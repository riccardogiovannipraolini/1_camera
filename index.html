<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera di Nascita - Prototipo</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="game-container">
        <!-- Title Screen overlay -->
        <div id="title-screen" class="game-screen">
            <div id="ts-logo">NAMELESS</div>
            <div id="ts-vessillo">
                <img src="assets/vessillo-chiesa.png" alt="Chiesa del Ritorno" />
            </div>
            <div id="ts-prompt">[RISVEGLIO]</div>
        </div>

        <!-- Canvas for animations and rendering -->
        <canvas id="game-canvas"></canvas>

        <!-- UI overlay for text and interactions -->
        <div id="ui-overlay">
            <div id="intro-text" class="fade-text hidden">
                Svegliati, pellegrino.
            </div>

            <div id="tutorial-ui" class="hidden">
                <div id="interaction-prompt">Cerchio 1/7 ‚Äî Tieni premuto ‚Üí</div>
                <div id="progress-indicator"></div>
            </div>

            <!-- Hold-to-Interact Progress Bar -->
            <div id="progress-container" class="hidden">
                <div id="progress-bar"></div>
                <div id="progress-text">0%</div>
            </div>

            <div id="choice-ui" class="hidden">
                <div class="choice-container">
                    <button class="choice-btn" id="choice-a">DORMI</button>
                    <button class="choice-btn" id="choice-b">RUBA</button>
                </div>
            </div>

            <div id="reverse-narrative" class="hidden"></div>
            <div id="exit-narrative" class="hidden"></div>
        </div>

        <!-- Final Sequence overlays (Session 8) -->
        <div id="final-sequence" class="hidden">
            <div id="mask-overlay" class="fs-layer hidden">
                <div class="mask-visual">
                    <div class="mask-face">
                        <div class="mask-eye mask-eye-l"></div>
                        <div class="mask-eye mask-eye-r"></div>
                        <div class="mask-nose"></div>
                        <div class="mask-mouth"></div>
                    </div>
                </div>
            </div>
            <div id="eyes-flash" class="fs-layer hidden">
                <div class="eyes-visual">
                    <div class="real-eye real-eye-l">
                        <div class="iris"></div>
                        <div class="pupil"></div>
                    </div>
                    <div class="real-eye real-eye-r">
                        <div class="iris"></div>
                        <div class="pupil"></div>
                    </div>
                </div>
            </div>
            <div id="mask-cards" class="fs-layer hidden">
                <div class="mask-visual mask-bg">
                    <div class="mask-face">
                        <div class="mask-eye mask-eye-l"></div>
                        <div class="mask-eye mask-eye-r"></div>
                        <div class="mask-nose"></div>
                        <div class="mask-mouth"></div>
                    </div>
                </div>
                <div class="card-pos card-eye-l">
                    <div class="card-inner">üëÅ</div>
                </div>
                <div class="card-pos card-eye-r">
                    <div class="card-inner">üëÅ</div>
                </div>
                <div class="card-pos card-ear">
                    <div class="card-inner">üëÇ</div>
                </div>
            </div>
            <div id="card-banner" class="fs-layer hidden">
                <h2>Hai ottenuto:</h2>
                <div class="card-list">
                    <div class="card-item">
                        <div class="card-icon">üëÅ</div>
                        <span>Occhio Sinistro</span>
                    </div>
                    <div class="card-item">
                        <div class="card-icon">üëÅ</div>
                        <span>Occhio Destro</span>
                    </div>
                    <div class="card-item">
                        <div class="card-icon">üëÇ</div>
                        <span>Timpani</span>
                    </div>
                    <div class="card-item">
                        <div class="card-icon">êäñ</div>
                        <span>Carta Asemica</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Session 9: Blood & Exit overlays -->
        <div id="blood-overlay"></div>
        <div id="laceration" class="hidden"></div>
        <div id="exit-prompt" class="hidden">[ATTRAVERSA]</div>
        <div id="end-fade" class="hidden"></div>
        <div id="end-text" class="hidden">Area 2: Corridoio Fimbriale</div>

        <!-- Debug panel -->
        <div id="debug-panel">
            <div id="state-display">State: INTRO</div>
            <div id="fps-counter">FPS: 0</div>
        </div>
    </div>

    <script src="game.js"></script>
</body>

</html>